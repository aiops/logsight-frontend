<div class="row" style="padding-left: 5%;padding-right: 5%">
  <div class="col-md-8">
    <nb-select class="period-select" [(selected)]="this.applicationId"
               (selectedChange)="applicationSelected($event)"
               placeholder="Select application">
      <nb-option *ngFor="let app of applications" [value]="app.id" [nbSort]="app.name">
        {{ app.name }}
      </nb-option>
    </nb-select>

    <nb-select class="period-select" [(selected)]="this.baselineTagId"
               (selectedChange)="baselineTagSelected($event)"
               placeholder="Select baseline tag">
      <nb-option *ngFor="let tag of tags" [value]="tag" [nbSort]="tag">
        {{ tag }}
      </nb-option>
    </nb-select>

    <nb-select class="period-select" [(selected)]="this.compareTagId"
               (selectedChange)="compareTagSelected($event)"
               placeholder="Select compare tag">
      <nb-option *ngFor="let tag of tags" [value]="tag" [nbSort]="tag">
        {{ tag }}
      </nb-option>
    </nb-select>

    <button nbButton shape="round" size="small" (click)="computeLogCompare()" style="text-transform: none">LogCompare</button>
  </div>

  <div class="col-md-4 text-right">
    <div style="width: 100%;" class="text-right">
      <button title="Select Date Range" [nbPopover]="dateTimePicker" nbPopoverPlacement="bottom" nbButton
              (click)="openPopover()" size="small" shape="round"
              nbPopoverTrigger="noop"><i class="fa fa-calendar"></i></button>
    </div>
  </div>
</div>


<div class="container" style="margin-left: 5%;">
  <h5 style="font-weight: 600">Log count</h5>
  <div class="row" style="padding-right: 5%">
    <div class="col-6" style="height: 150px">
      <h5 style="font-weight: 600">{{baselineTagId}}
    </h5>
      <ngx-charts-bar-vertical [showGridLines]="true" [xAxis]="true"  [results]="logBarFirst" [scheme]="colorSchemeFirst" style="fill: white"></ngx-charts-bar-vertical>
    </div>

    <div  class="col-6" style="height: 150px">
    <h5 style="font-weight: 600">{{compareTagId}}
    </h5>
    <ngx-charts-bar-vertical [showGridLines]="true" [xAxis]="true"  [results]="logBarSecond" [scheme]="colorSchemeSecond" style="fill: white"></ngx-charts-bar-vertical>
    </div>
  </div>
</div>

<div class="container" style="margin-left: 5%; padding-top: 30px;">
  <h5 style="font-weight: 600">Cognitive anomalies</h5>
  <div class="row" style="padding-right: 5%">
    <div class="col-6" style="height: 150px">
      <grouped-vertical-bar-chart-2d [data]="barDataFirst"></grouped-vertical-bar-chart-2d>
    </div>

    <div  class="col-6" style="height: 150px">
    <grouped-vertical-bar-chart-2d [data]="barDataSecond"></grouped-vertical-bar-chart-2d>
    </div>
  </div>
</div>

<!--<div class="row"  >-->
<!--  <div class="col-sm" style="height: 100px">-->
<!--    <h5 style="font-weight: 600">{{baselineTagId}}-->
<!--    </h5>-->
<!--    <ngx-charts-bar-vertical-2d [showGridLines]="true" [xAxis]="true"  [results]="barData" style="fill: white"></ngx-charts-bar-vertical-2d>-->
<!--  </div>-->
<!--    <div  class="col-sm" style="height: 100px">-->
<!--    <h5 style="font-weight: 600">{{compareTagId}}-->
<!--    </h5>-->
<!--    <ngx-charts-bar-vertical-2d [showGridLines]="true" [xAxis]="true"  [results]="barData" style="fill: white"></ngx-charts-bar-vertical-2d>-->
<!--  </div>-->
<!--</div>-->

<div class="row" style="padding-right: 5%; padding-left: 5%; margin-top: 30px;">
  <div class="col-sm" style="height: 300px">
    <h5 style="font-weight: 600">Results</h5> <div style="color: #abab34">Match Degree:  {{matchPercentage}}</div>
    <grouped-horizontal-bar-chart-2d [data]="horizontalData"></grouped-horizontal-bar-chart-2d>
  </div>
</div>



<!--<div  class="row" style="padding-left: 5%;padding-right: 5%; margin-top: 75px">-->

<!--  <div class="col">-->
<!--    <h5 style="font-weight: 600">Detailed analysis-->
<!--    </h5>-->
<!--    <nb-card>-->
<!--      <nb-card-body>-->
<!-- <div class="col-lg-12 p-0">-->
<!--          <div class="scrollable">-->
<!--            <table class="table table-striped table-borderless">-->
<!--              <thead>-->
<!--              <tr>-->
<!--                <th style="width: 2%" scope="col"></th>-->
<!--                <th [appSort]="logLevelData" data-order="desc" data-name="timestamp" class="clickable"-->
<!--                    style="width: 18%" scope="col">Timestamp-->
<!--                </th>-->

<!--                <th [appSort]="logLevelData" data-order="desc" data-name="actualLevel" class="clickable"-->
<!--                    style="width: 15%" scope="col">Current-->
<!--                </th>-->
<!--                <th [appSort]="logLevelData" data-order="desc" data-name="predictedLevel" class="clickable"-->
<!--                    style="width: 20%" scope="col">Recommended-->
<!--                </th>-->
<!--                <th style="width: 45%" scope="col">Message</th>-->
<!--              </tr>-->
<!--              </thead>-->
<!--              <tbody>-->
<!--              <tr *ngFor="let row of logLevelData; let i = index">-->
<!--                <td>{{i + 1}}</td>-->
<!--                <td>{{row.timestamp}}</td>-->
<!--                <td>-->
<!--                <span style="float: left; color: yellow; font-weight: 600;"-->
<!--                      [class.error]="row.actualLevel == 'ERROR'"-->
<!--                      [class.info]="row.actualLevel == 'INFO'"-->
<!--                      class="mr-2">{{row.actualLevel}}</span>-->
<!--                </td>-->

<!--                <td>-->
<!--                <span style="float: left; color: #CECE00FF; font-weight: 600;"-->
<!--                      [class.error]="row.predictedLevel == 'ERROR'"-->
<!--                      [class.info]="row.predictedLevel == 'INFO'"-->
<!--                      class="mr-2">{{row.predictedLevel}}</span>-->
<!--                </td>-->

<!--                <td>-->
<!--                  <div>-->
<!--                  <app-ad-banner [row]="row.variableHit"></app-ad-banner>-->
<!--                  </div>-->
<!--                </td>-->
<!--              </tr>-->
<!--              </tbody>-->
<!--            </table>-->
<!--          </div>-->
<!--        </div>-->
<!--      </nb-card-body>-->
<!--    </nb-card>-->
<!--  </div>-->


<!--</div>-->






<ng-template #dateTimePicker>
  <elastic-custom-datepicker (search)="onDateTimeSearch($event)"></elastic-custom-datepicker>
</ng-template>
