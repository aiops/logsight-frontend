<div class="row" style="width: 100%">

  <div class="col">

    <div class="row user_info">
      <nb-card class="p-3 row-one" >
        <div class="row no-gutters">
          <div class = "col">
            <h5 class="mb-3">Your key is</h5>
          </div>
        </div>
        <div class="row">
          <div class="col" style="margin-left: 20px">
            <h6 class="key_text"><b>{{key}}</b></h6>
          </div>
        </div>
      </nb-card>
    </div>

    <div class ="row create_new_app">
      <nb-card class="p-3 row-one">
        <div class="row no-gutters">
          <div class="col">
            <h5 class="mb-3">Create new application</h5>
          </div>
        </div>
        <div class="row justify-content-between">
          <div class="col" style="margin-bottom: 3px">
            <form [formGroup]="form" (submit)="createApplication()" aria-labelledby="title">
              <div class="form-control-group">
                <div class="col-md-4" style="margin-bottom: 3px">
                  <label class="label" style="margin: 3px" for="name">Application name:</label>
                  <input nbInput class="mr-2" type="text" formControlName="name" id="name" placeholder="Application name" [required]="true" [attr.aria-invalid]="form.invalid && form.touched ? true : null">
                  <ng-container *ngIf="form.controls['name'].invalid && form.touched">
                    <p class="error-message" *ngIf="form.controls['email'].errors?.required">
                      Application name is required!
                    </p>
                  </ng-container>
                </div>
              </div>
              <div class="col-md-4 ml-auto" style="margin-bottom: 3px">
                <div class="row align-items-center">
                  <div class="col">
                    <button nbButton class="create-app-btn" status="success" [disabled]="!form.valid">Create</button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </nb-card>
    </div>
    <div class ="row applications">
      <nb-card class="p-3 row-one">
        <div class="row justify-content-end">
          <div class="col-md-4">
            <h5 class="mb-3">Applications</h5>
          </div>
          <div class="col-md-4 ml-auto" style="margin-bottom: 3px">
            <button nbButton class="btn btn-link show-app-btn" type="button" (click)="onBtnShowApp()" id="bt">
              {{showHideAppBtn}}
            </button>
          </div>
        </div>
        <ng-container *ngIf="show">
          <div class="row" style="margin-top: 10px">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th scope="col">Id</th>
                  <th scope="col">Name</th>
                  <th scope="col">Status</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let row of applications">
                  <td>{{row.id}}</td>
                  <td>{{row.name}}</td>
                  <td>
                    <i [title]="row.status" *ngIf="row.status == 'IN_PROGRESS'" class="ml-3 fas fa-spinner fa-spin"></i>
                    <i [title]="row.status" *ngIf="row.status == 'ACTIVE'" class="ml-3 fas fa-check-circle"></i>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </ng-container>
      </nb-card>
    </div>

    <div class ="row integration_types">
      <nb-card class="p-3 row-one">
        <div class="row no-gutters">
          <div class="col">
            <h5><b>Integration Types</b></h5>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            <button nbButton class="python-btn" type="button" (click)="onPythonBtn()" >
              {{pythonBtn}}
            </button>
          </div>
          <div class="col-md-3 filebeat">
            <button nbButton class="filebeat-btn" type="button" (click)="onFileBeatBtn()" >
              {{filebeatBtn}}
            </button>
          </div>
          <div class="col-md-3">
            <button nbButton class="rest-btn" type="button" (click)="onRestBtn()" >
              {{restBtn}}
            </button>
          </div>
        </div>
      </nb-card>
    </div>

  </div>

  <div class="col-5">
    <ng-container *ngIf="python">
      <div class="row description">
<!--      <nb-card class="p-2 rows" style="width: 100%">-->
        <div class="col">
          <div class="row">
            <h3>Description</h3>
          </div>
          <div class="row">
            <p class="dscr" >Logsight exposes an API that allows you to send your logs from basically everywhere, here is how:</p>
          </div>
        </div>
<!--        </nb-card>-->
      </div>
      <br>
      <br>
      <div class="row user_guidance">
        <div class="col">
          <div class="row">
            <h3>Endpoint Details</h3>
          </div>
          <div class="row">
            <table class="table table-striped">
              <tr>
                <th>Step 1:</th>
                <td>pip install git+ssh://git@github.com/aiops/logsight-python-sdk.git</td>
              </tr>
              <tr>
                <th>Step 2:</th>
                <td>python3 example-logging.py</td>
              </tr>
            </table>
          </div>
        </div>
      </div>

    </ng-container>

    <ng-container *ngIf="fileBeats">
      <div class="row description">
      <!--      <nb-card class="p-2 rows" style="width: 100%">-->
      <div class="col">
        <div class="row">
          <h3>Description</h3>
        </div>
        <div class="row">
          <p class="dscr" >Logsight exposes an API that allows you to send your logs from basically everywhere, here is how:</p>
        </div>
      </div>
      <!--        </nb-card>-->
  </div>
  <br>
  <br>
  <div class="row user_guidance">
    <div class="col">
      <div class="row">
        <h3>Endpoint Details for FileBeats</h3>
      </div>
      <div class="row">
        <table class="table table-striped">
          <tr>
            <th>Step 1:</th>
            <td>?</td>
          </tr>
          <tr>
            <th>Step 2:</th>
            <td>?</td>
          </tr>
        </table>
      </div>
    </div>
  </div>
    </ng-container>

    </div>


    <div class="col-4">
      <pre><code class="python">
        import logging
from logsight import LogsightLogger

# Get an instance of Python standard logger.
logger = logging.getLogger("Python Logger")
logger.setLevel(logging.DEBUG)

PRIVATE_KEY = '{{key}}'
APP_NAME = 'demo-app'
logsight_handler = LogsightLogger(PRIVATE_KEY, APP_NAME)
logsight_handler.setLevel(logging.INFO)

logger.addHandler(logsight_handler)

# Send message
logger.info("Hello World!")
logger.error("Hello Error!")
logger.warning("Hello Warning!")
logger.debug("Hello Debug!")
logger.info("Hello World!")
logger.info("Hello World!")
logger.info("Hello World!")
logger.error("Hello Error!")
logger.warning("Hello Warning!")
logger.debug("Hello Debug!")
logger.info("Hello World!")
logger.info("Hello World!")
logger.info("------------")
        </code></pre>
    </div>
</div>


<!--<div class="row" style="width: 100%">-->
<!--  <nb-card class="p-3" style="width: 100%">-->
<!--    <div class="row">-->
<!--      <div class="col-md-8">-->
<!--        <h5 class="mb-3">Create new application</h5>-->
<!--        <form class="col-lg-6 col-lg-8 col-sm-12 pl-0" [formGroup]="form" (submit)="createApplication()"-->
<!--              aria-labelledby="title">-->
<!--          <div class="form-control-group">-->
<!--            <label class="label mr-2" for="name">Application name:</label>-->
<!--            <input nbInput class="mr-3"-->
<!--                   type="text"-->
<!--                   formControlName="name"-->
<!--                   id="name"-->
<!--                   placeholder="Application name"-->
<!--                   [required]="true"-->
<!--                   [attr.aria-invalid]="form.invalid && form.touched ? true : null">-->
<!--            <ng-container *ngIf="form.controls['name'].invalid && form.touched">-->
<!--              <p class="error-message" *ngIf="form.controls['email'].errors?.required">-->
<!--                Application name is required!-->
<!--              </p>-->
<!--            </ng-container>-->

<!--            <button nbButton style="margin-bottom: 3px"-->
<!--                    status="success"-->
<!--                    [disabled]="!form.valid">-->
<!--              Create-->
<!--            </button>-->
<!--          </div>-->
<!--        </form>-->
<!--      </div>-->
<!--      <div class="col-md-4">-->
<!--        <p class="mb-3 text-right">Your key is: <b>{{key}}</b></p>-->
<!--      </div>-->
<!--    </div>-->
<!--  </nb-card>-->
<!--  <nb-card class="p-3" style="width: 100%">-->
<!--    <div class="row">-->
<!--      <div class="col-md-6">-->
<!--        <h5 class="mb-3">Applications</h5>-->
<!--        <table class="table table-striped">-->
<!--          <thead>-->
<!--          <tr>-->
<!--            <th scope="col">Id</th>-->
<!--            <th scope="col">Name</th>-->
<!--            <th scope="col">Status</th>-->
<!--          </tr>-->
<!--          </thead>-->
<!--          <tbody>-->
<!--          <tr *ngFor="let row of applications">-->
<!--            <td>{{row.id}}</td>-->
<!--            <td>{{row.name}}</td>-->
<!--            <td><i [title]="row.status" *ngIf="row.status == 'IN_PROGRESS'" class="ml-3 fas fa-spinner fa-spin"></i>-->
<!--              <i [title]="row.status" *ngIf="row.status == 'ACTIVE'" class="ml-3 fas fa-check-circle"></i>-->
<!--            </td>-->
<!--          </tr>-->
<!--          </tbody>-->
<!--        </table>-->
<!--      </div>-->
<!--    </div>-->
<!--  </nb-card>-->
<!--</div>-->
